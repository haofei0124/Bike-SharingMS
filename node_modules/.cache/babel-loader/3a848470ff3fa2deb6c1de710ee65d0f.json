{"ast":null,"code":"import \"antd/lib/date-picker/style\";\nimport _DatePicker from \"antd/lib/date-picker\";\nimport \"antd/lib/modal/style\";\nimport _Modal from \"antd/lib/modal\";\nimport \"antd/lib/table/style\";\nimport _Table from \"antd/lib/table\";\nimport \"antd/lib/button/style\";\nimport _Button from \"antd/lib/button\";\nimport \"antd/lib/card/style\";\nimport _Card from \"antd/lib/card\";\nimport \"antd/lib/input/style\";\nimport _Input from \"antd/lib/input\";\nimport \"antd/lib/radio/style\";\nimport _Radio from \"antd/lib/radio\";\nimport \"antd/lib/select/style\";\nimport _Select from \"antd/lib/select\";\nimport \"antd/lib/form/style\";\nimport _Form from \"antd/lib/form\";\nvar _jsxFileName = \"E:\\\\Concordia course\\\\laoma\\u524D\\u7AEF\\\\#9 react\\u6155\\u8BFE2\\\\project\\\\BikeSharingMS-master\\\\src\\\\pages\\\\user\\\\index.js\";\nimport React from 'react';\nimport axios from './../../axios/index';\nimport Utils from './../../utils/utils';\nconst FormItem = _Form.Item;\nconst Option = _Select.Option;\nconst RadioGroup = _Radio.Group;\nconst TextArea = _Input.TextArea;\n\nclass User extends React.Component {\n  constructor(...args) {\n    super(...args);\n    this.state = {\n      list: [],\n      isShowOpenCity: false\n    };\n    this.params = {\n      page: 1\n    };\n\n    this.requestList = () => {\n      let _this = this;\n\n      axios.ajax({\n        url: '/user/list',\n        data: {\n          params: {\n            page: this.params.page\n          }\n        }\n      }).then(res => {\n        console.log(res);\n        this.setState({\n          list: res.result.item_list.map((item, index) => {\n            item.key = index;\n            return item;\n          }),\n          pagination: Utils.pagination(res, current => {\n            _this.params.page = current;\n\n            _this.requestList();\n          })\n        });\n      });\n    };\n\n    this.handleOperate = type => {\n      if (type == 'create') {\n        this.setState({\n          type,\n          isShowOpenCity: true,\n          title: '创建员工'\n        });\n      } else if (type == 'edit') {}\n    };\n\n    this.handleSubmit = () => {\n      let type = this.state.type;\n      let data = this.userForm.props.form.getFieldsValue(); // 取值\n\n      axios.ajax({\n        url: '/user/add',\n        data: {\n          params: data\n        }\n      }).then(res => {\n        if (res.code == '0') {\n          this.userForm.props.form.resetFields(); //重置表单        \n\n          this.setState({\n            isShowOpenCity: false\n          });\n          this.requestList();\n        }\n      });\n    };\n  }\n\n  componentDidMount() {\n    this.requestList();\n  }\n\n  render() {\n    const columns = [{\n      title: 'id',\n      dataIndex: 'id' //字段和表单定义的一致\n\n    }, {\n      title: 'username',\n      dataIndex: 'username'\n    }, {\n      title: 'gender',\n      dataIndex: 'sex',\n\n      render(mode) {\n        return mode == 1 ? 'Male' : 'Female';\n      }\n\n    }, {\n      title: 'state',\n      dataIndex: 'state',\n\n      render(state) {\n        let config = {\n          '1': 'student',\n          '2': 'teacher',\n          '3': 'worker',\n          '4': 'CEO',\n          '5': 'artist'\n        };\n        return config[state];\n      }\n\n    }, {\n      title: 'hobby',\n      dataIndex: 'interest',\n\n      render(interest) {\n        let config = {\n          '1': 'swiming',\n          '2': 'basketball',\n          '3': 'football',\n          '4': 'running',\n          '5': 'hiking',\n          '6': 'ride',\n          '7': 'tennis',\n          '8': 'sing'\n        };\n        return config[interest];\n      }\n\n    }, {\n      title: 'birthday',\n      dataIndex: 'birthday'\n    }, {\n      title: 'address',\n      dataIndex: 'address'\n    }, {\n      title: 'wakeup Time',\n      dataIndex: 'time'\n    }];\n    return React.createElement(\"div\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 145\n      },\n      __self: this\n    }, React.createElement(_Card, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 146\n      },\n      __self: this\n    }, React.createElement(FilterForm, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 147\n      },\n      __self: this\n    })), React.createElement(_Card, {\n      style: {\n        marginTop: 10\n      },\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 149\n      },\n      __self: this\n    }, React.createElement(_Button, {\n      type: \"primary\",\n      icon: \"plus\",\n      onClick: () => this.handleOperate('create'),\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 150\n      },\n      __self: this\n    }, \"\\u521B\\u5EFA\\u5458\\u5DE5\"), React.createElement(_Button, {\n      type: \"primary\",\n      icon: \"edit\",\n      onClick: () => this.handleOperate('edit'),\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 151\n      },\n      __self: this\n    }, \"\\u7F16\\u8F91\\u5458\\u5DE5\"), React.createElement(_Button, {\n      type: \"primary\",\n      icon: \"database\",\n      onClick: () => this.handleOperate('detail'),\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 152\n      },\n      __self: this\n    }, \"\\u5458\\u5DE5\\u8BE6\\u60C5\"), React.createElement(_Button, {\n      type: \"primary\",\n      icon: \"delete\",\n      onClick: () => this.handleOperate('delete'),\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 153\n      },\n      __self: this\n    }, \"\\u5220\\u9664\\u5458\\u5DE5\")), React.createElement(\"div\", {\n      className: \"content-wrap\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 155\n      },\n      __self: this\n    }, React.createElement(_Table, {\n      className: \"ant-table-wrapper \",\n      bordered: true,\n      columns: columns,\n      dataSource: this.state.list,\n      pagination: this.state.pagination,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 156\n      },\n      __self: this\n    }), React.createElement(_Modal, {\n      title: this.state.title,\n      visible: this.state.isShowOpenCity,\n      onCancel: () => {\n        this.userForm.props.form.resetFields(); //重置表单\n\n        this.setState({\n          isShowOpenCity: false\n        });\n      },\n      onOk: this.handleSubmit,\n      width: 600,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 163\n      },\n      __self: this\n    }, React.createElement(UserForm, {\n      type: this.state.type,\n      wrappedComponentRef: inst => {\n        this.userForm = inst;\n      },\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 175\n      },\n      __self: this\n    }))));\n  }\n\n}\n\nexport default User;\n\nclass FilterForm extends React.Component {\n  render() {\n    const getFieldDecorator = this.props.form.getFieldDecorator;\n    return React.createElement(_Form, {\n      layout: \"inline\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 190\n      },\n      __self: this\n    }, React.createElement(FormItem, {\n      label: \"\\u7528\\u6237\\u540D\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 191\n      },\n      __self: this\n    }, getFieldDecorator('user_name')(React.createElement(_Input, {\n      placeholder: \"\\u8BF7\\u8F93\\u5165\\u7528\\u6237\\u540D\",\n      style: {\n        width: 110\n      },\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 194\n      },\n      __self: this\n    }))), React.createElement(FormItem, {\n      label: \"\\u624B\\u673A\\u53F7\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 201\n      },\n      __self: this\n    }, getFieldDecorator('user_mobile')(React.createElement(_Input, {\n      placeholder: \"\\u8BF7\\u8F93\\u5165\\u624B\\u673A\\u53F7\",\n      style: {\n        width: 110\n      },\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 204\n      },\n      __self: this\n    }))), React.createElement(FormItem, {\n      label: \"\\u8BF7\\u9009\\u62E9\\u5165\\u804C\\u65E5\\u671F\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 211\n      },\n      __self: this\n    }, getFieldDecorator('user_data')(React.createElement(_DatePicker, {\n      placeholder: \"\\u8BF7\\u9009\\u62E9\\u5165\\u804C\\u65E5\\u671F\",\n      showTime: true,\n      format: \"YYYY-MM-DD HH:mm:ss\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 214\n      },\n      __self: this\n    }))), React.createElement(FormItem, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 221\n      },\n      __self: this\n    }, React.createElement(_Button, {\n      type: \"primary\",\n      style: {\n        margin: '0 20px'\n      },\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 222\n      },\n      __self: this\n    }, \"\\u67E5\\u8BE2\"), React.createElement(_Button, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 223\n      },\n      __self: this\n    }, \"\\u91CD\\u7F6E\")));\n  }\n\n}\n\nFilterForm = _Form.create({})(FilterForm);\n\nclass UserForm extends React.Component {\n  render() {\n    const formItemLayout = {\n      labelCol: {\n        span: 5\n      },\n      wrapperCol: {\n        span: 10\n      }\n    };\n    const getFieldDecorator = this.props.form.getFieldDecorator;\n    return React.createElement(_Form, Object.assign({\n      layout: \"horizontal\"\n    }, formItemLayout, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 243\n      },\n      __self: this\n    }), React.createElement(FormItem, {\n      label: \"username\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 246\n      },\n      __self: this\n    }, getFieldDecorator('user_name')(React.createElement(_Input, {\n      type: \"text\",\n      placeholder: \"username\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 249\n      },\n      __self: this\n    }))), React.createElement(FormItem, Object.assign({\n      label: \"gender\"\n    }, formItemLayout, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 253\n      },\n      __self: this\n    }), getFieldDecorator('sex')(React.createElement(RadioGroup, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 256\n      },\n      __self: this\n    }, React.createElement(_Radio, {\n      value: 1,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 257\n      },\n      __self: this\n    }, \"\\u7537\"), React.createElement(_Radio, {\n      value: 2,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 258\n      },\n      __self: this\n    }, \"\\u5973\")))), React.createElement(FormItem, Object.assign({\n      label: \"state\"\n    }, formItemLayout, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 264\n      },\n      __self: this\n    }), getFieldDecorator('state')(React.createElement(_Select, {\n      style: {\n        width: 100\n      },\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 267\n      },\n      __self: this\n    }, React.createElement(Option, {\n      value: 1,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 268\n      },\n      __self: this\n    }, \"student\"), React.createElement(Option, {\n      value: 2,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 269\n      },\n      __self: this\n    }, \"worker\"), React.createElement(Option, {\n      value: 3,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 270\n      },\n      __self: this\n    }, \"teacher\"), React.createElement(Option, {\n      value: 4,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 271\n      },\n      __self: this\n    }, \"CEO\"), React.createElement(Option, {\n      value: 5,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 272\n      },\n      __self: this\n    }, \"artist\")))), React.createElement(FormItem, Object.assign({\n      label: \"birthday\"\n    }, formItemLayout, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 277\n      },\n      __self: this\n    }), getFieldDecorator('birthday')(React.createElement(_DatePicker, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 280\n      },\n      __self: this\n    }))), React.createElement(FormItem, Object.assign({\n      label: \"address\"\n    }, formItemLayout, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 284\n      },\n      __self: this\n    }), getFieldDecorator('address')(React.createElement(TextArea, {\n      rows: 3,\n      placeholder: \"please wirte down your address\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 287\n      },\n      __self: this\n    }))));\n  }\n\n}\n\nUserForm = _Form.create({})(UserForm); //Form.create去创建一个对象\n// 包装成antd这样一个form表单","map":{"version":3,"sources":["E:\\Concordia course\\laoma前端\\#9 react慕课2\\project\\BikeSharingMS-master\\src\\pages\\user\\index.js"],"names":["React","axios","Utils","FormItem","Item","Option","RadioGroup","Group","TextArea","User","Component","state","list","isShowOpenCity","params","page","requestList","_this","ajax","url","data","then","res","console","log","setState","result","item_list","map","item","index","key","pagination","current","handleOperate","type","title","handleSubmit","userForm","props","form","getFieldsValue","code","resetFields","componentDidMount","render","columns","dataIndex","mode","config","interest","marginTop","inst","FilterForm","getFieldDecorator","width","margin","create","UserForm","formItemLayout","labelCol","span","wrapperCol"],"mappings":";;;;;;;;;;;;;;;;;;;AAAA,OAAOA,KAAP,MAAkB,OAAlB;AAEA,OAAOC,KAAP,MAAkB,qBAAlB;AACA,OAAOC,KAAP,MAAkB,qBAAlB;AAEA,MAAMC,QAAQ,GAAG,MAAKC,IAAtB;AACA,MAAMC,MAAM,GAAG,QAAOA,MAAtB;AACA,MAAMC,UAAU,GAAG,OAAMC,KAAzB;AACA,MAAMC,QAAQ,GAAG,OAAMA,QAAvB;;AAEA,MAAMC,IAAN,SAAmBT,KAAK,CAACU,SAAzB,CAAkC;AAAA;AAAA;AAAA,SAEhCC,KAFgC,GAExB;AACNC,MAAAA,IAAI,EAAC,EADC;AAENC,MAAAA,cAAc,EAAE;AAFV,KAFwB;AAAA,SAOhCC,MAPgC,GAOvB;AACPC,MAAAA,IAAI,EAAE;AADC,KAPuB;;AAAA,SAehCC,WAfgC,GAelB,MAAI;AAChB,UAAIC,KAAK,GAAG,IAAZ;;AACAhB,MAAAA,KAAK,CAACiB,IAAN,CAAW;AACTC,QAAAA,GAAG,EAAE,YADI;AAETC,QAAAA,IAAI,EAAE;AACJN,UAAAA,MAAM,EAAE;AACNC,YAAAA,IAAI,EAAE,KAAKD,MAAL,CAAYC;AADZ;AADJ;AAFG,OAAX,EAOGM,IAPH,CAOSC,GAAD,IAAQ;AACdC,QAAAA,OAAO,CAACC,GAAR,CAAYF,GAAZ;AACE,aAAKG,QAAL,CAAc;AACZb,UAAAA,IAAI,EAAEU,GAAG,CAACI,MAAJ,CAAWC,SAAX,CAAqBC,GAArB,CAAyB,CAACC,IAAD,EAAOC,KAAP,KAAiB;AAC5CD,YAAAA,IAAI,CAACE,GAAL,GAAWD,KAAX;AACA,mBAAOD,IAAP;AACH,WAHK,CADM;AAKZG,UAAAA,UAAU,EAAE9B,KAAK,CAAC8B,UAAN,CAAiBV,GAAjB,EAAuBW,OAAD,IAAa;AAC3ChB,YAAAA,KAAK,CAACH,MAAN,CAAaC,IAAb,GAAoBkB,OAApB;;AACAhB,YAAAA,KAAK,CAACD,WAAN;AACH,WAHW;AALA,SAAd;AAUH,OAnBD;AAoBD,KArC+B;;AAAA,SAwChCkB,aAxCgC,GAwCfC,IAAD,IAAU;AACxB,UAAGA,IAAI,IAAI,QAAX,EAAoB;AAClB,aAAKV,QAAL,CAAc;AACZU,UAAAA,IADY;AAEZtB,UAAAA,cAAc,EAAC,IAFH;AAGZuB,UAAAA,KAAK,EAAE;AAHK,SAAd;AAKD,OAND,MAMM,IAAGD,IAAI,IAAG,MAAV,EAAkB,CAEvB;AACF,KAlD+B;;AAAA,SAoDhCE,YApDgC,GAoDjB,MAAK;AAClB,UAAIF,IAAI,GAAG,KAAKxB,KAAL,CAAWwB,IAAtB;AACA,UAAIf,IAAI,GAAG,KAAKkB,QAAL,CAAcC,KAAd,CAAoBC,IAApB,CAAyBC,cAAzB,EAAX,CAFkB,CAEmC;;AACrDxC,MAAAA,KAAK,CAACiB,IAAN,CAAW;AACTC,QAAAA,GAAG,EAAE,WADI;AAETC,QAAAA,IAAI,EAAE;AACJN,UAAAA,MAAM,EAAEM;AADJ;AAFG,OAAX,EAKGC,IALH,CAKSC,GAAD,IAAO;AACb,YAAGA,GAAG,CAACoB,IAAJ,IAAY,GAAf,EAAmB;AACjB,eAAKJ,QAAL,CAAcC,KAAd,CAAoBC,IAApB,CAAyBG,WAAzB,GADiB,CACsB;;AACvC,eAAKlB,QAAL,CAAc;AACZZ,YAAAA,cAAc,EAAE;AADJ,WAAd;AAGA,eAAKG,WAAL;AACD;AACF,OAbD;AAcD,KArE+B;AAAA;;AAWhC4B,EAAAA,iBAAiB,GAAG;AAClB,SAAK5B,WAAL;AACD;;AAyDD6B,EAAAA,MAAM,GAAG;AACP,UAAMC,OAAO,GAAG,CACd;AACEV,MAAAA,KAAK,EAAE,IADT;AAEEW,MAAAA,SAAS,EAAE,IAFb,CAEkB;;AAFlB,KADc,EAKd;AACEX,MAAAA,KAAK,EAAE,UADT;AAEEW,MAAAA,SAAS,EAAE;AAFb,KALc,EASd;AACEX,MAAAA,KAAK,EAAE,QADT;AAEEW,MAAAA,SAAS,EAAE,KAFb;;AAGEF,MAAAA,MAAM,CAACG,IAAD,EAAO;AACX,eAAOA,IAAI,IAAI,CAAR,GAAY,MAAZ,GAAqB,QAA5B;AACD;;AALH,KATc,EAgBd;AACEZ,MAAAA,KAAK,EAAE,OADT;AAEEW,MAAAA,SAAS,EAAE,OAFb;;AAGEF,MAAAA,MAAM,CAAClC,KAAD,EAAO;AACX,YAAIsC,MAAM,GAAG;AACT,eAAI,SADK;AAET,eAAI,SAFK;AAGT,eAAI,QAHK;AAIT,eAAI,KAJK;AAKT,eAAI;AALK,SAAb;AAOA,eAAOA,MAAM,CAACtC,KAAD,CAAb;AACD;;AAZH,KAhBc,EA+Bd;AACEyB,MAAAA,KAAK,EAAE,OADT;AAEEW,MAAAA,SAAS,EAAE,UAFb;;AAGEF,MAAAA,MAAM,CAACK,QAAD,EAAU;AACd,YAAID,MAAM,GAAG;AACT,eAAI,SADK;AAET,eAAI,YAFK;AAGT,eAAI,UAHK;AAIT,eAAI,SAJK;AAKT,eAAI,QALK;AAMT,eAAI,MANK;AAOT,eAAI,QAPK;AAQT,eAAI;AARK,SAAb;AAUA,eAAOA,MAAM,CAACC,QAAD,CAAb;AACD;;AAfH,KA/Bc,EAgDd;AACEd,MAAAA,KAAK,EAAE,UADT;AAEEW,MAAAA,SAAS,EAAE;AAFb,KAhDc,EAqDd;AACEX,MAAAA,KAAK,EAAE,SADT;AAEEW,MAAAA,SAAS,EAAE;AAFb,KArDc,EAyDd;AACEX,MAAAA,KAAK,EAAE,aADT;AAEEW,MAAAA,SAAS,EAAE;AAFb,KAzDc,CAAhB;AA8DA,WACE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OACE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OACE,oBAAC,UAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MADF,CADF,EAIE;AAAM,MAAA,KAAK,EAAE;AAACI,QAAAA,SAAS,EAAE;AAAZ,OAAb;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OACE;AAAQ,MAAA,IAAI,EAAC,SAAb;AAAuB,MAAA,IAAI,EAAC,MAA5B;AAAmC,MAAA,OAAO,EAAE,MAAI,KAAKjB,aAAL,CAAmB,QAAnB,CAAhD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kCADF,EAEE;AAAQ,MAAA,IAAI,EAAC,SAAb;AAAuB,MAAA,IAAI,EAAC,MAA5B;AAAmC,MAAA,OAAO,EAAE,MAAI,KAAKA,aAAL,CAAmB,MAAnB,CAAhD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kCAFF,EAGE;AAAQ,MAAA,IAAI,EAAC,SAAb;AAAuB,MAAA,IAAI,EAAC,UAA5B;AAAuC,MAAA,OAAO,EAAE,MAAI,KAAKA,aAAL,CAAmB,QAAnB,CAApD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kCAHF,EAIE;AAAQ,MAAA,IAAI,EAAC,SAAb;AAAuB,MAAA,IAAI,EAAC,QAA5B;AAAqC,MAAA,OAAO,EAAE,MAAI,KAAKA,aAAL,CAAmB,QAAnB,CAAlD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kCAJF,CAJF,EAUE;AAAK,MAAA,SAAS,EAAC,cAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OACE;AACE,MAAA,SAAS,EAAC,oBADZ;AAEE,MAAA,QAAQ,MAFV;AAGE,MAAA,OAAO,EAAEY,OAHX;AAIE,MAAA,UAAU,EAAE,KAAKnC,KAAL,CAAWC,IAJzB;AAKE,MAAA,UAAU,EAAE,KAAKD,KAAL,CAAWqB,UALzB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MADF,EAQE;AACE,MAAA,KAAK,EAAE,KAAKrB,KAAL,CAAWyB,KADpB;AAEE,MAAA,OAAO,EAAE,KAAKzB,KAAL,CAAWE,cAFtB;AAGE,MAAA,QAAQ,EAAE,MAAK;AACb,aAAKyB,QAAL,CAAcC,KAAd,CAAoBC,IAApB,CAAyBG,WAAzB,GADa,CAC0B;;AACvC,aAAKlB,QAAL,CAAc;AACZZ,UAAAA,cAAc,EAAE;AADJ,SAAd;AAGD,OARH;AASE,MAAA,IAAI,EAAE,KAAKwB,YATb;AAUE,MAAA,KAAK,EAAE,GAVT;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OAYC,oBAAC,QAAD;AAAU,MAAA,IAAI,EAAE,KAAK1B,KAAL,CAAWwB,IAA3B;AAAiC,MAAA,mBAAmB,EAAGiB,IAAD,IAAQ;AAAC,aAAKd,QAAL,GAAgBc,IAAhB;AAAsB,OAArF;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MAZD,CARF,CAVF,CADF;AAqCD;;AA1K+B;;AA6KlC,eAAe3C,IAAf;;AAEA,MAAM4C,UAAN,SAAyBrD,KAAK,CAACU,SAA/B,CAAyC;AACvCmC,EAAAA,MAAM,GAAG;AAAA,UACCS,iBADD,GACuB,KAAKf,KAAL,CAAWC,IADlC,CACCc,iBADD;AAEP,WACE;AAAM,MAAA,MAAM,EAAC,QAAb;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OACE,oBAAC,QAAD;AAAU,MAAA,KAAK,EAAC,oBAAhB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OAEIA,iBAAiB,CAAC,WAAD,CAAjB,CACE;AACE,MAAA,WAAW,EAAC,sCADd;AAEE,MAAA,KAAK,EAAE;AAACC,QAAAA,KAAK,EAAC;AAAP,OAFT;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MADF,CAFJ,CADF,EAWE,oBAAC,QAAD;AAAU,MAAA,KAAK,EAAC,oBAAhB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OAEID,iBAAiB,CAAC,aAAD,CAAjB,CACE;AACE,MAAA,WAAW,EAAC,sCADd;AAEE,MAAA,KAAK,EAAE;AAACC,QAAAA,KAAK,EAAC;AAAP,OAFT;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MADF,CAFJ,CAXF,EAqBE,oBAAC,QAAD;AAAU,MAAA,KAAK,EAAC,4CAAhB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OAEID,iBAAiB,CAAC,WAAD,CAAjB,CACE;AACA,MAAA,WAAW,EAAC,4CADZ;AAEA,MAAA,QAAQ,MAFR;AAGA,MAAA,MAAM,EAAC,qBAHP;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MADF,CAFJ,CArBF,EA+BE,oBAAC,QAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OACE;AAAQ,MAAA,IAAI,EAAC,SAAb;AAAuB,MAAA,KAAK,EAAE;AAACE,QAAAA,MAAM,EAAE;AAAT,OAA9B;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,sBADF,EAEE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,sBAFF,CA/BF,CADF;AAsCD;;AAzCsC;;AA2CzCH,UAAU,GAAG,MAAKI,MAAL,CAAY,EAAZ,EAAgBJ,UAAhB,CAAb;;AAEA,MAAMK,QAAN,SAAuB1D,KAAK,CAACU,SAA7B,CAAuC;AACrCmC,EAAAA,MAAM,GAAG;AACP,UAAMc,cAAc,GAAG;AACrBC,MAAAA,QAAQ,EAAE;AACRC,QAAAA,IAAI,EAAC;AADG,OADW;AAIrBC,MAAAA,UAAU,EAAE;AACVD,QAAAA,IAAI,EAAC;AADK;AAJS,KAAvB;AADO,UASCP,iBATD,GASuB,KAAKf,KAAL,CAAWC,IATlC,CASCc,iBATD;AAUP,WACE;AAAM,MAAA,MAAM,EAAC;AAAb,OAA8BK,cAA9B;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,QAGE,oBAAC,QAAD;AAAU,MAAA,KAAK,EAAC,UAAhB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OAEAL,iBAAiB,CAAC,WAAD,CAAjB,CACE;AAAO,MAAA,IAAI,EAAC,MAAZ;AAAmB,MAAA,WAAW,EAAC,UAA/B;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MADF,CAFA,CAHF,EAUE,oBAAC,QAAD;AAAU,MAAA,KAAK,EAAC;AAAhB,OAA6BK,cAA7B;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,QAEAL,iBAAiB,CAAC,KAAD,CAAjB,CACE,oBAAC,UAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OACE;AAAO,MAAA,KAAK,EAAE,CAAd;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,gBADF,EAEE;AAAO,MAAA,KAAK,EAAE,CAAd;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,gBAFF,CADF,CAFA,CAVF,EAqBE,oBAAC,QAAD;AAAU,MAAA,KAAK,EAAC;AAAhB,OAA4BK,cAA5B;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,QAEAL,iBAAiB,CAAC,OAAD,CAAjB,CACE;AAAQ,MAAA,KAAK,EAAE;AAACC,QAAAA,KAAK,EAAE;AAAR,OAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OACE,oBAAC,MAAD;AAAQ,MAAA,KAAK,EAAE,CAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,iBADF,EAEE,oBAAC,MAAD;AAAQ,MAAA,KAAK,EAAE,CAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,gBAFF,EAGE,oBAAC,MAAD;AAAQ,MAAA,KAAK,EAAE,CAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,iBAHF,EAIE,oBAAC,MAAD;AAAQ,MAAA,KAAK,EAAE,CAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,aAJF,EAKE,oBAAC,MAAD;AAAQ,MAAA,KAAK,EAAE,CAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,gBALF,CADF,CAFA,CArBF,EAkCE,oBAAC,QAAD;AAAU,MAAA,KAAK,EAAC;AAAhB,OAA+BI,cAA/B;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,QAEAL,iBAAiB,CAAC,UAAD,CAAjB,CACE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MADF,CAFA,CAlCF,EAyCE,oBAAC,QAAD;AAAU,MAAA,KAAK,EAAC;AAAhB,OAA8BK,cAA9B;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,QAEAL,iBAAiB,CAAC,SAAD,CAAjB,CACE,oBAAC,QAAD;AAAU,MAAA,IAAI,EAAE,CAAhB;AAAmB,MAAA,WAAW,EAAC,gCAA/B;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MADF,CAFA,CAzCF,CADF;AAmDD;;AA9DoC;;AAgEvCI,QAAQ,GAAG,MAAKD,MAAL,CAAY,EAAZ,EAAgBC,QAAhB,CAAX,C,CAAsC;AACtC","sourcesContent":["import React from 'react';\nimport { Card, Button, Table, Form, Select, Modal, message, Input, DatePicker, Radio } from 'antd';\nimport axios from './../../axios/index';\nimport Utils from './../../utils/utils';\n\nconst FormItem = Form.Item;\nconst Option = Select.Option;\nconst RadioGroup = Radio.Group;\nconst TextArea = Input.TextArea;\n\nclass User extends React.Component{\n  \n  state = {\n    list:[],\n    isShowOpenCity: false\n  }\n  \n  params = {\n    page: 1\n  }\n\n  componentDidMount() {\n    this.requestList()\n  }\n\n  requestList = ()=>{\n    let _this = this;\n    axios.ajax({\n      url: '/user/list',\n      data: {\n        params: {\n          page: this.params.page\n        }\n      }\n    }).then((res)=> {\n      console.log(res)\n        this.setState({\n          list: res.result.item_list.map((item, index) => {\n              item.key = index\n              return item\n          }),\n          pagination: Utils.pagination(res, (current) => {\n              _this.params.page = current\n              _this.requestList()\n          })\n         })\n    })\n  }\n\n  \n  handleOperate = (type) => {\n    if(type == 'create'){\n      this.setState({\n        type,\n        isShowOpenCity:true,\n        title: '创建员工'\n      })\n    }else if(type =='edit') {\n      \n    }\n  }\n\n  handleSubmit = ()=> {\n    let type = this.state.type;\n    let data = this.userForm.props.form.getFieldsValue();// 取值\n    axios.ajax({\n      url: '/user/add',\n      data: {\n        params: data\n      }\n    }).then((res)=>{\n      if(res.code == '0'){\n        this.userForm.props.form.resetFields();//重置表单        \n        this.setState({\n          isShowOpenCity: false\n        })\n        this.requestList();\n      }\n    })\n  }\n  render() {\n    const columns = [\n      {\n        title: 'id',\n        dataIndex: 'id' //字段和表单定义的一致\n      },\n      {\n        title: 'username',\n        dataIndex: 'username'\n      },\n      {\n        title: 'gender',\n        dataIndex: 'sex',\n        render(mode) {\n          return mode == 1 ? 'Male' : 'Female';\n        }\n      },\n      {\n        title: 'state',\n        dataIndex: 'state',\n        render(state){\n          let config = {\n              '1':'student',\n              '2':'teacher',\n              '3':'worker',\n              '4':'CEO',\n              '5':'artist'\n          }\n          return config[state];\n        }\n        \n      },\n      {\n        title: 'hobby',\n        dataIndex: 'interest',\n        render(interest){\n          let config = {\n              '1':'swiming',\n              '2':'basketball',\n              '3':'football',\n              '4':'running',\n              '5':'hiking',\n              '6':'ride',\n              '7':'tennis',\n              '8':'sing'\n          }\n          return config[interest];\n        }\n      },\n      {\n        title: 'birthday',\n        dataIndex: 'birthday',\n        \n      },\n      {\n        title: 'address',\n        dataIndex: 'address'\n      },\n      {\n        title: 'wakeup Time',\n        dataIndex: 'time'\n      }\n    ]\n    return(\n      <div>\n        <Card>\n          <FilterForm />\n        </Card>\n        <Card style={{marginTop: 10}}>\n          <Button type=\"primary\" icon=\"plus\" onClick={()=>this.handleOperate('create')}>创建员工</Button>\n          <Button type=\"primary\" icon=\"edit\" onClick={()=>this.handleOperate('edit')}>编辑员工</Button>\n          <Button type=\"primary\" icon=\"database\" onClick={()=>this.handleOperate('detail')}>员工详情</Button>\n          <Button type=\"primary\" icon=\"delete\" onClick={()=>this.handleOperate('delete')}>删除员工</Button>\n        </Card>\n        <div className=\"content-wrap\">\n          <Table \n            className=\"ant-table-wrapper \"\n            bordered\n            columns={columns}\n            dataSource={this.state.list}\n            pagination={this.state.pagination}\n          />\n          <Modal\n            title={this.state.title}\n            visible={this.state.isShowOpenCity}\n            onCancel={()=> {\n              this.userForm.props.form.resetFields();//重置表单\n              this.setState({\n                isShowOpenCity: false\n              })\n            }}\n            onOk={this.handleSubmit}\n            width={600}\n          >\n           <UserForm type={this.state.type} wrappedComponentRef={(inst)=>{this.userForm = inst;}}/>\n\n          </Modal>\n        </div>\n      </div>\n    );\n  }\n}\n\nexport default User; \n\nclass FilterForm extends React.Component {\n  render() {\n    const { getFieldDecorator } = this.props.form;\n    return(\n      <Form layout=\"inline\">\n        <FormItem label=\"用户名\">\n          {\n            getFieldDecorator('user_name')(\n              <Input\n                placeholder=\"请输入用户名\"\n                style={{width:110}}\n              ></Input>\n            )\n          }\n        </FormItem>\n        <FormItem label=\"手机号\">\n          {\n            getFieldDecorator('user_mobile')(\n              <Input\n                placeholder=\"请输入手机号\"\n                style={{width:110}}\n              ></Input>\n            )\n          }\n        </FormItem>\n        <FormItem label=\"请选择入职日期\">\n          {\n            getFieldDecorator('user_data')(\n              <DatePicker \n              placeholder=\"请选择入职日期\"\n              showTime \n              format=\"YYYY-MM-DD HH:mm:ss\"/>\n            )\n          }\n        </FormItem>\n        <FormItem>\n          <Button type=\"primary\" style={{margin: '0 20px'}}>查询</Button>\n          <Button>重置</Button>\n        </FormItem>\n      </Form>\n    );\n  }\n}\nFilterForm = Form.create({})(FilterForm);\n\nclass UserForm extends React.Component {\n  render() {\n    const formItemLayout = {\n      labelCol: {\n        span:5\n      },\n      wrapperCol: {\n        span:10\n      }\n    }\n    const { getFieldDecorator } = this.props.form;\n    return(\n      <Form layout=\"horizontal\" {...formItemLayout}> \n      {/* //解构出来 */}\n      \n        <FormItem label=\"username\">\n        {\n        getFieldDecorator('user_name')(\n          <Input type=\"text\" placeholder=\"username\" />\n        )\n      }\n        </FormItem>\n        <FormItem label=\"gender\" {...formItemLayout}>\n        {\n        getFieldDecorator('sex')(\n          <RadioGroup>\n            <Radio value={1}>男</Radio>\n            <Radio value={2}>女</Radio>\n          </RadioGroup>\n        )\n      }\n          \n        </FormItem>\n        <FormItem label=\"state\" {...formItemLayout}>\n        {\n        getFieldDecorator('state')(\n          <Select style={{width: 100}}>\n            <Option value={1}>student</Option>\n            <Option value={2}>worker</Option>\n            <Option value={3}>teacher</Option>\n            <Option value={4}>CEO</Option>\n            <Option value={5}>artist</Option>\n        </Select>\n        )\n      }         \n        </FormItem>\n        <FormItem label=\"birthday\" {...formItemLayout}>\n        {\n        getFieldDecorator('birthday')(\n          <DatePicker />\n        )\n      }         \n        </FormItem>\n        <FormItem label=\"address\" {...formItemLayout}>\n        {\n        getFieldDecorator('address')(\n          <TextArea rows={3} placeholder='please wirte down your address'/>\n        )\n      }         \n        </FormItem>\n      </Form>\n    );\n  }\n}\nUserForm = Form.create({})(UserForm); //Form.create去创建一个对象\n// 包装成antd这样一个form表单\n\n\n\n"]},"metadata":{},"sourceType":"module"}